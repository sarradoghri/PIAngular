<div class="scratch-win-container">
  <div class="game-section">
    <div class="wheel-container">
      <!-- Pointer at the top -->
      <div class="pointer"></div>
      
      <!-- Main wheel -->
      <div class="wheel" [ngStyle]="{'transform': 'rotate(' + currentRotation + 'deg)'}">
        <!-- Center of wheel -->
        <div class="wheel-center">
          <div class="center-dot"></div>
        </div>
      </div>
    </div>

    <button class="spin-button" (click)="spin()" [disabled]="isSpinning">
      {{ isSpinning ? 'Spinning...' : 'SPIN TO WIN!' }}
    </button>
  </div>

  <div class="result-section" *ngIf="winningPrize">
    <div class="result">
    <div class="prize-message" [ngClass]="{'try-again': winningPrize.discount === 'TRY AGAIN'}">
      <h2>
        <ng-container *ngIf="winningPrize.discount !== 'TRY AGAIN'">Congratulations! You won {{winningPrize.discount}} on {{winningPrize.category === 'FLIGHT' ? 'FLIGHTS' : winningPrize.category === 'HOTEL' ? 'HOTELS' : winningPrize.category === 'STORE' ? 'STORES' : winningPrize.category}}!</ng-container>
        <ng-container *ngIf="winningPrize.discount === 'TRY AGAIN'">
          Sorry! Try again next time!
        </ng-container>
      </h2>
      <div class="discount-code" *ngIf="discountCode">
        <p>Your discount code:</p>
        <h3>{{discountCode}}</h3>
        <p class="code-instruction">Show this code to get your discount!</p>
      </div>
    </div>
  </div>
</div>
